{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Yusuf Uygur\\\\Documents\\\\GitHub\\\\KriptoMentorSon\\\\kriptoMentorWeb\\\\frontend\\\\src\\\\pages\\\\CommentsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../lib/supabaseClient';\nimport { FaArrowLeft, FaPaperPlane, FaReply, FaTrash, FaEdit, FaCheck, FaTimes } from 'react-icons/fa';\nimport './CommentsPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function CommentsPage() {\n  _s();\n  const {\n    signalId\n  } = useParams();\n  const navigate = useNavigate();\n  const [user, setUser] = useState(null);\n  const [profile, setProfile] = useState(null);\n  const [comments, setComments] = useState({\n    roots: [],\n    repliesMap: {}\n  });\n  const [newComment, setNewComment] = useState('');\n  const [replyingTo, setReplyingTo] = useState(null);\n  const [replyText, setReplyText] = useState('');\n  const [editingId, setEditingId] = useState(null);\n  const [editingText, setEditingText] = useState('');\n  const [loading, setLoading] = useState(true);\n\n  // silme modalı için\n  const [deleteTargetId, setDeleteTargetId] = useState(null);\n\n  // --- 1) Oturum ve profil çek ---\n  useEffect(() => {\n    supabase.auth.getSession().then(({\n      data: {\n        session\n      }\n    }) => {\n      if (!(session !== null && session !== void 0 && session.user)) return navigate('/auth');\n      setUser(session.user);\n      return supabase.from('profiles').select('user_id, user_type, full_name').eq('user_id', session.user.id).maybeSingle();\n    }).then(({\n      data\n    }) => setProfile(data)).catch(console.error);\n  }, [navigate]);\n\n  // --- fetchComments fonksiyonu ---\n  const fetchComments = async () => {\n    if (!signalId) return;\n    setLoading(true);\n    try {\n      const {\n        data: raw,\n        error\n      } = await supabase.from('comments').select('id, user_id, content, created_at, parent_id').eq('signal_id', signalId).order('created_at', {\n        ascending: true\n      });\n      if (error) throw error;\n      const userIds = [...new Set(raw.map(c => c.user_id))];\n      const {\n        data: profs\n      } = await supabase.from('profiles').select('user_id, full_name').in('user_id', userIds);\n      const nameMap = {};\n      profs.forEach(p => nameMap[p.user_id] = p.full_name || 'Anonim');\n      const enriched = raw.map(c => ({\n        ...c,\n        author: nameMap[c.user_id]\n      }));\n      const roots = enriched.filter(c => !c.parent_id);\n      const repliesMap = {};\n      enriched.forEach(c => {\n        if (c.parent_id) {\n          repliesMap[c.parent_id] = repliesMap[c.parent_id] || [];\n          repliesMap[c.parent_id].push(c);\n        }\n      });\n      setComments({\n        roots,\n        repliesMap\n      });\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // --- 2) İlk yüklemede çek ---\n  useEffect(() => {\n    fetchComments();\n  }, [signalId]);\n\n  // --- 3) Yeni yorum ---\n  const postComment = async () => {\n    if (!newComment.trim() || (profile === null || profile === void 0 ? void 0 : profile.user_type) !== 'investor') return;\n    await supabase.from('comments').insert({\n      signal_id: signalId,\n      user_id: user.id,\n      content: newComment.trim(),\n      parent_id: null\n    });\n    setNewComment('');\n    fetchComments();\n  };\n\n  // --- 4) Yeni cevap ---\n  const postReply = async () => {\n    if (!replyText.trim() || !replyingTo || (profile === null || profile === void 0 ? void 0 : profile.user_type) !== 'investor') return;\n    await supabase.from('comments').insert({\n      signal_id: signalId,\n      user_id: user.id,\n      content: replyText.trim(),\n      parent_id: replyingTo\n    });\n    setReplyText('');\n    setReplyingTo(null);\n    fetchComments();\n  };\n\n  // --- 5) Düzenleme ---\n  const startEdit = c => {\n    if ((profile === null || profile === void 0 ? void 0 : profile.user_type) !== 'investor') return;\n    setEditingId(c.id);\n    setEditingText(c.content);\n  };\n  const saveEdit = async () => {\n    if (!editingText.trim() || (profile === null || profile === void 0 ? void 0 : profile.user_type) !== 'investor') {\n      setEditingId(null);\n      return;\n    }\n    await supabase.from('comments').update({\n      content: editingText.trim()\n    }).eq('id', editingId);\n    setEditingId(null);\n    setEditingText('');\n    fetchComments();\n  };\n\n  // --- 6) Silme (modal üzerinden) ---\n  const confirmDelete = async () => {\n    if (!deleteTargetId || (profile === null || profile === void 0 ? void 0 : profile.user_type) !== 'investor') {\n      setDeleteTargetId(null);\n      return;\n    }\n    await supabase.from('comments').delete().eq('id', deleteTargetId);\n    setDeleteTargetId(null);\n    fetchComments();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-page loader\",\n      children: \"Y\\xFCkleniyor\\u2026\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comments-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"back-btn\",\n      onClick: () => navigate(-1),\n      children: [/*#__PURE__*/_jsxDEV(FaArrowLeft, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), \" Geri\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Yorumlar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comments-list\",\n      children: [comments.roots.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"empty\",\n        children: \"Hen\\xFCz yorum yok.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 11\n      }, this), comments.roots.map(c => /*#__PURE__*/_jsxDEV(React.Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(CommentItem, {\n          comment: c,\n          isReply: false,\n          onReply: () => setReplyingTo(c.id),\n          onEdit: () => startEdit(c),\n          onDelete: () => setDeleteTargetId(c.id),\n          editingId: editingId,\n          editingText: editingText,\n          setEditingText: setEditingText,\n          saveEdit: saveEdit,\n          profile: profile\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 13\n        }, this), replyingTo === c.id && (profile === null || profile === void 0 ? void 0 : profile.user_type) === 'investor' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"new-reply\",\n          children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n            placeholder: \"Cevap yaz...\",\n            value: replyText,\n            onChange: e => setReplyText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: postReply,\n            children: /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 15\n        }, this), (comments.repliesMap[c.id] || []).map(r => /*#__PURE__*/_jsxDEV(CommentItem, {\n          comment: r,\n          isReply: true,\n          onReply: () => setReplyingTo(r.id),\n          onEdit: () => startEdit(r),\n          onDelete: () => setDeleteTargetId(r.id),\n          editingId: editingId,\n          editingText: editingText,\n          setEditingText: setEditingText,\n          saveEdit: saveEdit,\n          profile: profile\n        }, r.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this))]\n      }, c.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), (profile === null || profile === void 0 ? void 0 : profile.user_type) === 'investor' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-comment\",\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        placeholder: \"Yorum yaz...\",\n        value: newComment,\n        onChange: e => setNewComment(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: postComment,\n        children: /*#__PURE__*/_jsxDEV(FaPaperPlane, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }, this), deleteTargetId && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: () => setDeleteTargetId(null),\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Yorumu Sil\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Bu yorumu silmek istedi\\u011Finize emin misiniz?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn cancel\",\n            onClick: () => setDeleteTargetId(null),\n            children: \"\\u0130ptal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"modal-btn confirm\",\n            onClick: confirmDelete,\n            children: \"Sil\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n}\n\n// Ayrık bir yorum kutusu bileşeni\n_s(CommentsPage, \"/HCMA85961elxNcrGL3RW2Zkgis=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = CommentsPage;\nfunction CommentItem({\n  comment,\n  isReply,\n  onReply,\n  onEdit,\n  onDelete,\n  editingId,\n  editingText,\n  setEditingText,\n  saveEdit,\n  profile\n}) {\n  const time = new Date(comment.created_at).toLocaleDateString() + ' ' + new Date(comment.created_at).toLocaleTimeString([], {\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `comment-box${isReply ? ' reply' : ''}`,\n    children: editingId === comment.id ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: \"edit-textarea\",\n        value: editingText,\n        onChange: e => setEditingText(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"edit-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setEditingText(''),\n          children: /*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: saveEdit,\n          children: /*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"author\",\n          children: comment.author\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"time\",\n          children: time\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-body\",\n        children: comment.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-actions\",\n        children: [(profile === null || profile === void 0 ? void 0 : profile.user_type) === 'investor' && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"act\",\n          onClick: onReply,\n          children: [/*#__PURE__*/_jsxDEV(FaReply, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 17\n          }, this), \" Cevapla\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 15\n        }, this), comment.user_id === (profile === null || profile === void 0 ? void 0 : profile.user_id) && (profile === null || profile === void 0 ? void 0 : profile.user_type) === 'investor' && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"act\",\n            onClick: onEdit,\n            children: /*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"act delete\",\n            onClick: onDelete,\n            children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 275,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CommentItem;\nvar _c, _c2;\n$RefreshReg$(_c, \"CommentsPage\");\n$RefreshReg$(_c2, \"CommentItem\");","map":{"version":3,"names":["React","useEffect","useState","useParams","useNavigate","supabase","FaArrowLeft","FaPaperPlane","FaReply","FaTrash","FaEdit","FaCheck","FaTimes","jsxDEV","_jsxDEV","Fragment","_Fragment","CommentsPage","_s","signalId","navigate","user","setUser","profile","setProfile","comments","setComments","roots","repliesMap","newComment","setNewComment","replyingTo","setReplyingTo","replyText","setReplyText","editingId","setEditingId","editingText","setEditingText","loading","setLoading","deleteTargetId","setDeleteTargetId","auth","getSession","then","data","session","from","select","eq","id","maybeSingle","catch","console","error","fetchComments","raw","order","ascending","userIds","Set","map","c","user_id","profs","in","nameMap","forEach","p","full_name","enriched","author","filter","parent_id","push","err","postComment","trim","user_type","insert","signal_id","content","postReply","startEdit","saveEdit","update","confirmDelete","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","CommentItem","comment","isReply","onReply","onEdit","onDelete","placeholder","value","onChange","e","target","r","stopPropagation","_c","time","Date","created_at","toLocaleDateString","toLocaleTimeString","hour","minute","_c2","$RefreshReg$"],"sources":["C:/Users/Yusuf Uygur/Documents/GitHub/KriptoMentorSon/kriptoMentorWeb/frontend/src/pages/CommentsPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams, useNavigate }     from 'react-router-dom';\r\nimport { supabase }                   from '../lib/supabaseClient';\r\nimport {\r\n  FaArrowLeft,\r\n  FaPaperPlane,\r\n  FaReply,\r\n  FaTrash,\r\n  FaEdit,\r\n  FaCheck,\r\n  FaTimes\r\n} from 'react-icons/fa';\r\nimport './CommentsPage.css';\r\n\r\nexport default function CommentsPage() {\r\n  const { signalId } = useParams();\r\n  const navigate     = useNavigate();\r\n\r\n  const [user, setUser]       = useState(null);\r\n  const [profile, setProfile] = useState(null);\r\n  const [comments, setComments] = useState({ roots: [], repliesMap: {} });\r\n  const [newComment, setNewComment] = useState('');\r\n  const [replyingTo, setReplyingTo] = useState(null);\r\n  const [replyText, setReplyText]   = useState('');\r\n  const [editingId, setEditingId]   = useState(null);\r\n  const [editingText, setEditingText] = useState('');\r\n  const [loading, setLoading]       = useState(true);\r\n\r\n  // silme modalı için\r\n  const [deleteTargetId, setDeleteTargetId] = useState(null);\r\n\r\n  // --- 1) Oturum ve profil çek ---\r\n  useEffect(() => {\r\n    supabase.auth.getSession()\r\n      .then(({ data:{ session } }) => {\r\n        if (!session?.user) return navigate('/auth');\r\n        setUser(session.user);\r\n        return supabase\r\n          .from('profiles')\r\n          .select('user_id, user_type, full_name')\r\n          .eq('user_id', session.user.id)\r\n          .maybeSingle();\r\n      })\r\n      .then(({ data }) => setProfile(data))\r\n      .catch(console.error);\r\n  }, [navigate]);\r\n\r\n  // --- fetchComments fonksiyonu ---\r\n  const fetchComments = async () => {\r\n    if (!signalId) return;\r\n    setLoading(true);\r\n    try {\r\n      const { data: raw, error } = await supabase\r\n        .from('comments')\r\n        .select('id, user_id, content, created_at, parent_id')\r\n        .eq('signal_id', signalId)\r\n        .order('created_at', { ascending: true });\r\n      if (error) throw error;\r\n\r\n      const userIds = [...new Set(raw.map(c => c.user_id))];\r\n      const { data: profs } = await supabase\r\n        .from('profiles')\r\n        .select('user_id, full_name')\r\n        .in('user_id', userIds);\r\n\r\n      const nameMap = {};\r\n      profs.forEach(p => (nameMap[p.user_id] = p.full_name || 'Anonim'));\r\n\r\n      const enriched = raw.map(c => ({ ...c, author: nameMap[c.user_id] }));\r\n\r\n      const roots = enriched.filter(c => !c.parent_id);\r\n      const repliesMap = {};\r\n      enriched.forEach(c => {\r\n        if (c.parent_id) {\r\n          repliesMap[c.parent_id] = repliesMap[c.parent_id] || [];\r\n          repliesMap[c.parent_id].push(c);\r\n        }\r\n      });\r\n\r\n      setComments({ roots, repliesMap });\r\n    } catch (err) {\r\n      console.error(err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // --- 2) İlk yüklemede çek ---\r\n  useEffect(() => {\r\n    fetchComments();\r\n  }, [signalId]);\r\n\r\n  // --- 3) Yeni yorum ---\r\n  const postComment = async () => {\r\n    if (!newComment.trim() || profile?.user_type !== 'investor') return;\r\n    await supabase.from('comments').insert({\r\n      signal_id: signalId,\r\n      user_id:    user.id,\r\n      content:    newComment.trim(),\r\n      parent_id:  null\r\n    });\r\n    setNewComment('');\r\n    fetchComments();\r\n  };\r\n\r\n  // --- 4) Yeni cevap ---\r\n  const postReply = async () => {\r\n    if (!replyText.trim() || !replyingTo || profile?.user_type !== 'investor') return;\r\n    await supabase.from('comments').insert({\r\n      signal_id: signalId,\r\n      user_id:    user.id,\r\n      content:    replyText.trim(),\r\n      parent_id:  replyingTo\r\n    });\r\n    setReplyText('');\r\n    setReplyingTo(null);\r\n    fetchComments();\r\n  };\r\n\r\n  // --- 5) Düzenleme ---\r\n  const startEdit = c => {\r\n    if (profile?.user_type !== 'investor') return;\r\n    setEditingId(c.id);\r\n    setEditingText(c.content);\r\n  };\r\n  const saveEdit = async () => {\r\n    if (!editingText.trim() || profile?.user_type !== 'investor') {\r\n      setEditingId(null);\r\n      return;\r\n    }\r\n    await supabase\r\n      .from('comments')\r\n      .update({ content: editingText.trim() })\r\n      .eq('id', editingId);\r\n    setEditingId(null);\r\n    setEditingText('');\r\n    fetchComments();\r\n  };\r\n\r\n  // --- 6) Silme (modal üzerinden) ---\r\n  const confirmDelete = async () => {\r\n    if (!deleteTargetId || profile?.user_type !== 'investor') {\r\n      setDeleteTargetId(null);\r\n      return;\r\n    }\r\n    await supabase\r\n      .from('comments')\r\n      .delete()\r\n      .eq('id', deleteTargetId);\r\n    setDeleteTargetId(null);\r\n    fetchComments();\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"comments-page loader\">Yükleniyor…</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"comments-page\">\r\n      <button className=\"back-btn\" onClick={() => navigate(-1)}>\r\n        <FaArrowLeft /> Geri\r\n      </button>\r\n      <h2>Yorumlar</h2>\r\n\r\n      <div className=\"comments-list\">\r\n        {comments.roots.length === 0 && (\r\n          <p className=\"empty\">Henüz yorum yok.</p>\r\n        )}\r\n        {comments.roots.map(c => (\r\n          <React.Fragment key={c.id}>\r\n            <CommentItem\r\n              comment={c}\r\n              isReply={false}\r\n              onReply={() => setReplyingTo(c.id)}\r\n              onEdit={() => startEdit(c)}\r\n              onDelete={() => setDeleteTargetId(c.id)}\r\n              editingId={editingId}\r\n              editingText={editingText}\r\n              setEditingText={setEditingText}\r\n              saveEdit={saveEdit}\r\n              profile={profile}\r\n            />\r\n\r\n            {/* Cevap girişi */}\r\n            {replyingTo === c.id && profile?.user_type === 'investor' && (\r\n              <div className=\"new-reply\">\r\n                <textarea\r\n                  placeholder=\"Cevap yaz...\"\r\n                  value={replyText}\r\n                  onChange={e => setReplyText(e.target.value)}\r\n                />\r\n                <button onClick={postReply}>\r\n                  <FaPaperPlane />\r\n                </button>\r\n              </div>\r\n            )}\r\n\r\n            {/* Cevaplar */}\r\n            {(comments.repliesMap[c.id] || []).map(r => (\r\n              <CommentItem\r\n                key={r.id}\r\n                comment={r}\r\n                isReply={true}\r\n                onReply={() => setReplyingTo(r.id)}\r\n                onEdit={() => startEdit(r)}\r\n                onDelete={() => setDeleteTargetId(r.id)}\r\n                editingId={editingId}\r\n                editingText={editingText}\r\n                setEditingText={setEditingText}\r\n                saveEdit={saveEdit}\r\n                profile={profile}\r\n              />\r\n            ))}\r\n          </React.Fragment>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Yeni kök yorum alanı (yalnızca investor) */}\r\n      {profile?.user_type === 'investor' && (\r\n        <div className=\"new-comment\">\r\n          <textarea\r\n            placeholder=\"Yorum yaz...\"\r\n            value={newComment}\r\n            onChange={e => setNewComment(e.target.value)}\r\n          />\r\n          <button onClick={postComment}>\r\n            <FaPaperPlane />\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Silme onay modalı */}\r\n      {deleteTargetId && (\r\n        <div className=\"modal-overlay\" onClick={() => setDeleteTargetId(null)}>\r\n          <div className=\"modal-content\" onClick={e => e.stopPropagation()}>\r\n            <h3>Yorumu Sil</h3>\r\n            <p>Bu yorumu silmek istediğinize emin misiniz?</p>\r\n            <div className=\"modal-buttons\">\r\n              <button className=\"modal-btn cancel\" onClick={() => setDeleteTargetId(null)}>\r\n                İptal\r\n              </button>\r\n              <button className=\"modal-btn confirm\" onClick={confirmDelete}>\r\n                Sil\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Ayrık bir yorum kutusu bileşeni\r\nfunction CommentItem({\r\n  comment,\r\n  isReply,\r\n  onReply,\r\n  onEdit,\r\n  onDelete,\r\n  editingId,\r\n  editingText,\r\n  setEditingText,\r\n  saveEdit,\r\n  profile\r\n}) {\r\n  const time =\r\n    new Date(comment.created_at).toLocaleDateString() +\r\n    ' ' +\r\n    new Date(comment.created_at).toLocaleTimeString([], {\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n\r\n  return (\r\n    <div className={`comment-box${isReply ? ' reply' : ''}`}>\r\n      {editingId === comment.id ? (\r\n        <>\r\n          <textarea\r\n            className=\"edit-textarea\"\r\n            value={editingText}\r\n            onChange={e => setEditingText(e.target.value)}\r\n          />\r\n          <div className=\"edit-actions\">\r\n            <button onClick={() => setEditingText('')}>\r\n              <FaTimes />\r\n            </button>\r\n            <button onClick={saveEdit}>\r\n              <FaCheck />\r\n            </button>\r\n          </div>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div className=\"comment-header\">\r\n            <span className=\"author\">{comment.author}</span>\r\n            <span className=\"time\">{time}</span>\r\n          </div>\r\n          <div className=\"comment-body\">{comment.content}</div>\r\n          <div className=\"comment-actions\">\r\n            {profile?.user_type === 'investor' && (\r\n              <button className=\"act\" onClick={onReply}>\r\n                <FaReply /> Cevapla\r\n              </button>\r\n            )}\r\n            {comment.user_id === profile?.user_id && profile?.user_type === 'investor' && (\r\n              <>\r\n                <button className=\"act\" onClick={onEdit}>\r\n                  <FaEdit />\r\n                </button>\r\n                <button className=\"act delete\" onClick={onDelete}>\r\n                  <FaTrash />\r\n                </button>\r\n              </>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}