{"ast":null,"code":"// src/App.js\nimport React,{useEffect,useState}from'react';import{Routes,Route,Navigate,Outlet}from'react-router-dom';import{supabase}from'./lib/supabaseClient';import LandingPage from'./pages/LandingPage';// ← Yeni\nimport AuthPage from'./pages/AuthPage';import HomePage from'./pages/HomePage';import MarketPage from'./pages/MarketPage';import NewsPage from'./pages/NewsPage';import ProfilePage from'./pages/ProfilePage';import EditProfilePage from'./pages/EditProfilePage';import ShareSignalPage from'./pages/ShareSignalPage';import CommentsPage from'./pages/CommentsPage';import PublicProfilePage from'./pages/PublicProfilePage';import Header from'./components/Header';import Sidebar from'./components/Sidebar';import bgImage from'./assets/images/background-page.png';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProtectedLayout(){return/*#__PURE__*/_jsxs(\"div\",{className:\"protected-layout\",style:{backgroundImage:`url(${bgImage})`,backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundAttachment:'fixed',minHeight:'100vh'},children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"protected-content\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"protected-page\",children:/*#__PURE__*/_jsx(Outlet,{})})]})]});}export default function App(){const[user,setUser]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{// İlk oturum bilgisini al\nsupabase.auth.getSession().then(_ref=>{var _data$session$user,_data$session;let{data}=_ref;setUser((_data$session$user=(_data$session=data.session)===null||_data$session===void 0?void 0:_data$session.user)!==null&&_data$session$user!==void 0?_data$session$user:null);setLoading(false);});// Oturum değişikliklerini dinle\nconst{data:{subscription}}=supabase.auth.onAuthStateChange((_event,session)=>{var _session$user;setUser((_session$user=session===null||session===void 0?void 0:session.user)!==null&&_session$user!==void 0?_session$user:null);});return()=>subscription.unsubscribe();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',marginTop:100},children:\"Y\\xFCkleniyor\\u2026\"});}return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/app\",replace:true}):/*#__PURE__*/_jsx(LandingPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/auth\",element:/*#__PURE__*/_jsx(AuthPage,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/app/*\",element:user?/*#__PURE__*/_jsx(ProtectedLayout,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(HomePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"market\",element:/*#__PURE__*/_jsx(MarketPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"news\",element:/*#__PURE__*/_jsx(NewsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile\",element:/*#__PURE__*/_jsx(ProfilePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"edit-profile\",element:/*#__PURE__*/_jsx(EditProfilePage,{})}),/*#__PURE__*/_jsx(Route,{path:\"share-signal\",element:/*#__PURE__*/_jsx(ShareSignalPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"comments/:signalId\",element:/*#__PURE__*/_jsx(CommentsPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"profile/:userId\",element:/*#__PURE__*/_jsx(PublicProfilePage,{})})]}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:user?/*#__PURE__*/_jsx(Navigate,{to:\"/app\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]});}","map":{"version":3,"names":["React","useEffect","useState","Routes","Route","Navigate","Outlet","supabase","LandingPage","AuthPage","HomePage","MarketPage","NewsPage","ProfilePage","EditProfilePage","ShareSignalPage","CommentsPage","PublicProfilePage","Header","Sidebar","bgImage","jsx","_jsx","jsxs","_jsxs","ProtectedLayout","className","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","minHeight","children","App","user","setUser","loading","setLoading","auth","getSession","then","_ref","_data$session$user","_data$session","data","session","subscription","onAuthStateChange","_event","_session$user","unsubscribe","textAlign","marginTop","path","element","to","replace","index"],"sources":["C:/Users/Yusuf Uygur/Documents/GitHub/KriptoMentorSon/kriptoMentorWeb/frontend/src/App.js"],"sourcesContent":["// src/App.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Routes, Route, Navigate, Outlet } from 'react-router-dom';\r\nimport { supabase } from './lib/supabaseClient';\r\n\r\nimport LandingPage        from './pages/LandingPage';      // ← Yeni\r\nimport AuthPage           from './pages/AuthPage';\r\nimport HomePage           from './pages/HomePage';\r\nimport MarketPage         from './pages/MarketPage';\r\nimport NewsPage           from './pages/NewsPage';\r\nimport ProfilePage        from './pages/ProfilePage';\r\nimport EditProfilePage    from './pages/EditProfilePage';\r\nimport ShareSignalPage    from './pages/ShareSignalPage';\r\nimport CommentsPage       from './pages/CommentsPage';\r\nimport PublicProfilePage  from './pages/PublicProfilePage';\r\n\r\nimport Header   from './components/Header';\r\nimport Sidebar  from './components/Sidebar';\r\n\r\nimport bgImage from './assets/images/background-page.png';\r\nimport './App.css';\r\n\r\nfunction ProtectedLayout() {\r\n  return (\r\n    <div\r\n      className=\"protected-layout\"\r\n      style={{\r\n        backgroundImage: `url(${bgImage})`,\r\n        backgroundSize:     'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat:   'no-repeat',\r\n        backgroundAttachment: 'fixed',\r\n        minHeight: '100vh'\r\n      }}\r\n    >\r\n      <Header />\r\n      <div className=\"protected-content\">\r\n        <Sidebar />\r\n        <div className=\"protected-page\">\r\n          <Outlet />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function App() {\r\n  const [user, setUser]     = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // İlk oturum bilgisini al\r\n    supabase.auth.getSession().then(({ data }) => {\r\n      setUser(data.session?.user ?? null);\r\n      setLoading(false);\r\n    });\r\n    // Oturum değişikliklerini dinle\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\r\n      (_event, session) => {\r\n        setUser(session?.user ?? null);\r\n      }\r\n    );\r\n    return () => subscription.unsubscribe();\r\n  }, []);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign:'center', marginTop:100 }}>\r\n        Yükleniyor…\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Routes>\r\n      {/** --------- PUBLIC --------- **/}\r\n      {/** Landing: oturum yoksa \"/\", oturum varsa direkt \"/app\" **/}\r\n      <Route\r\n        path=\"/\"\r\n        element={\r\n          user\r\n            ? <Navigate to=\"/app\" replace />\r\n            : <LandingPage />\r\n        }\r\n      />\r\n\r\n      {/** Auth sayfası (login/signup) **/}\r\n      <Route path=\"/auth\" element={<AuthPage />} />\r\n\r\n      {/** --------- PROTECTED (/app/*) --------- **/}\r\n      <Route\r\n        path=\"/app/*\"\r\n        element={\r\n          user\r\n            ? <ProtectedLayout />\r\n            : <Navigate to=\"/\" replace />\r\n        }\r\n      >\r\n        <Route index element={<HomePage />} />\r\n        <Route path=\"market\"        element={<MarketPage />} />\r\n        <Route path=\"news\"          element={<NewsPage />} />\r\n        <Route path=\"profile\"       element={<ProfilePage />} />\r\n        <Route path=\"edit-profile\"  element={<EditProfilePage />} />\r\n        <Route path=\"share-signal\"  element={<ShareSignalPage />} />\r\n        <Route path=\"comments/:signalId\" element={<CommentsPage />} />\r\n        <Route path=\"profile/:userId\"    element={<PublicProfilePage />} />\r\n      </Route>\r\n\r\n      {/** fallback: bilinmeyen rota **/}\r\n      <Route\r\n        path=\"*\"\r\n        element={\r\n          user\r\n            ? <Navigate to=\"/app\" replace />\r\n            : <Navigate to=\"/\" replace />\r\n        }\r\n      />\r\n    </Routes>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}