{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./NewsPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CRYPTOCOMPARE_API_KEY='c6e3282d291ebf97868cecaee2476ef79e9375cb8fc2af6f8ea47a21deea8638';export default function NewsPage(){const[articles,setArticles]=useState([]);const[loading,setLoading]=useState(true);const[refreshing,setRefreshing]=useState(false);const fetchNews=async()=>{if(!refreshing)setLoading(true);try{const url=`https://min-api.cryptocompare.com/data/v2/news/?lang=TR&api_key=${CRYPTOCOMPARE_API_KEY}`;const res=await fetch(url);const json=await res.json();setArticles(json.Data||[]);}catch(e){console.error('Haber Ã§ekme hatasÄ±:',e);}finally{setLoading(false);setRefreshing(false);}};useEffect(()=>{fetchNews();},[]);const onRefresh=()=>{setRefreshing(true);fetchNews();};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"news-page loader\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"news-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"news-header-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"news-header\",children:\"Kripto Haberleri\"}),/*#__PURE__*/_jsx(\"button\",{className:\"refresh-btn\",onClick:onRefresh,disabled:refreshing,children:\"\\uD83D\\uDD04\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"news-list\",children:articles.map((item,idx)=>{const date=new Date(item.published_on*1000).toLocaleString('tr-TR',{day:'2-digit',month:'2-digit',year:'numeric',hour:'2-digit',minute:'2-digit'});return/*#__PURE__*/_jsxs(\"a\",{className:\"news-card\",href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",children:[item.imageurl&&/*#__PURE__*/_jsx(\"img\",{src:item.imageurl,alt:\"\",className:\"news-image\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"news-title\",children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"news-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"news-source\",children:item.source}),/*#__PURE__*/_jsx(\"span\",{className:\"news-date\",children:date})]}),item.body&&/*#__PURE__*/_jsx(\"p\",{className:\"news-description\",children:item.body.length>200?item.body.slice(0,200)+'â€¦':item.body}),/*#__PURE__*/_jsx(\"div\",{className:\"news-footer\",children:\"\\u2192\"})]},idx);})})]});}","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CRYPTOCOMPARE_API_KEY","NewsPage","articles","setArticles","loading","setLoading","refreshing","setRefreshing","fetchNews","url","res","fetch","json","Data","e","console","error","onRefresh","className","children","onClick","disabled","map","item","idx","date","Date","published_on","toLocaleString","day","month","year","hour","minute","href","target","rel","imageurl","src","alt","title","source","body","length","slice"],"sources":["C:/Users/Yusuf Uygur/Documents/GitHub/KriptoMentorSon/kriptoMentorWeb/frontend/src/pages/NewsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './NewsPage.css';\r\n\r\nconst CRYPTOCOMPARE_API_KEY = 'c6e3282d291ebf97868cecaee2476ef79e9375cb8fc2af6f8ea47a21deea8638';\r\n\r\nexport default function NewsPage() {\r\n  const [articles, setArticles]     = useState([]);\r\n  const [loading, setLoading]       = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n\r\n  const fetchNews = async () => {\r\n    if (!refreshing) setLoading(true);\r\n    try {\r\n      const url = `https://min-api.cryptocompare.com/data/v2/news/?lang=TR&api_key=${CRYPTOCOMPARE_API_KEY}`;\r\n      const res = await fetch(url);\r\n      const json = await res.json();\r\n      setArticles(json.Data || []);\r\n    } catch (e) {\r\n      console.error('Haber Ã§ekme hatasÄ±:', e);\r\n    } finally {\r\n      setLoading(false);\r\n      setRefreshing(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchNews();\r\n  }, []);  \r\n  \r\n  const onRefresh = () => {\r\n    setRefreshing(true);\r\n    fetchNews();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"news-page loader\">\r\n        <div className=\"spinner\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"news-page\">\r\n      <div className=\"news-header-container\">\r\n        <h1 className=\"news-header\">Kripto Haberleri</h1>\r\n        <button className=\"refresh-btn\" onClick={onRefresh} disabled={refreshing}>\r\n          ðŸ”„\r\n        </button>\r\n      </div>\r\n      <div className=\"news-list\">\r\n        {articles.map((item, idx) => {\r\n          const date = new Date(item.published_on * 1000)\r\n            .toLocaleString('tr-TR', {\r\n              day:   '2-digit',\r\n              month: '2-digit',\r\n              year:  'numeric',\r\n              hour:  '2-digit',\r\n              minute:'2-digit'\r\n            });\r\n          return (\r\n            <a\r\n              key={idx}\r\n              className=\"news-card\"\r\n              href={item.url}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n            >\r\n              {item.imageurl && (\r\n                <img src={item.imageurl} alt=\"\" className=\"news-image\" />\r\n              )}\r\n              <h2 className=\"news-title\">{item.title}</h2>\r\n              <div className=\"news-meta\">\r\n                <span className=\"news-source\">{item.source}</span>\r\n                <span className=\"news-date\">{date}</span>\r\n              </div>\r\n              {item.body && (\r\n                <p className=\"news-description\">\r\n                  {item.body.length > 200\r\n                    ? item.body.slice(0, 200) + 'â€¦'\r\n                    : item.body}\r\n                </p>\r\n              )}\r\n              <div className=\"news-footer\">â†’</div>\r\n            </a>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}