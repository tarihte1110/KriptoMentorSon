{"ast":null,"code":"// src/pages/HomePage.js\nimport React,{useContext,useEffect,useState}from'react';import{useNavigate}from'react-router-dom';import{SignalsContext}from'../context/SignalsContext';import{supabase}from'../lib/supabaseClient';import'./HomePage.css';import{FaThumbsUp,FaThumbsDown,FaComment,FaUserCircle}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function HomePage(){const navigate=useNavigate();const{signals}=useContext(SignalsContext);const[user,setUser]=useState(null);const[myProfileType,setMyProfileType]=useState(null);const[profilesMap,setProfilesMap]=useState({});const[reactionsMap,setReactionsMap]=useState({});const[commentsCountMap,setCommentsCountMap]=useState({});const[loading,setLoading]=useState(true);// 1) Oturum ve kendi profil tipini çek\nuseEffect(()=>{(async()=>{const{data:{session}}=await supabase.auth.getSession();const usr=session===null||session===void 0?void 0:session.user;if(!usr)return;setUser(usr);// kendi profil tipini al\nconst{data:prof}=await supabase.from('profiles').select('user_type').eq('user_id',usr.id).maybeSingle();setMyProfileType((prof===null||prof===void 0?void 0:prof.user_type)||null);})();},[]);// 2) Profiller, reaksiyonlar ve yorum sayıları\nuseEffect(()=>{if(!user||!signals.length)return;(async()=>{setLoading(true);// profiller\nconst{data:profs}=await supabase.from('profiles').select('user_id, full_name');const pMap={};profs.forEach(p=>pMap[p.user_id]=p.full_name||'Anonim');setProfilesMap(pMap);// reaksiyonlar\nconst{data:reacts}=await supabase.from('reactions').select('signal_id, user_id, type');const rMap={};signals.forEach(s=>rMap[s.id]={likeCount:0,dislikeCount:0,myType:null});reacts.forEach(r=>{const e=rMap[r.signal_id];if(!e)return;if(r.type==='like')e.likeCount++;else e.dislikeCount++;if(r.user_id===user.id)e.myType=r.type;});setReactionsMap(rMap);// yorum sayıları\nconst{data:comms}=await supabase.from('comments').select('signal_id');const cMap={};signals.forEach(s=>cMap[s.id]=0);comms.forEach(c=>{if(cMap[c.signal_id]!==undefined)cMap[c.signal_id]++;});setCommentsCountMap(cMap);setLoading(false);})();},[user,signals]);// 3) Tepki handler (sadece investor ise)\nconst handleReaction=async(signalId,type)=>{var _reactionsMap$signalI;if(myProfileType!=='investor')return;const prev=(_reactionsMap$signalI=reactionsMap[signalId])===null||_reactionsMap$signalI===void 0?void 0:_reactionsMap$signalI.myType;if(prev===type){await supabase.from('reactions').delete().match({signal_id:signalId,user_id:user.id});}else if(prev){await supabase.from('reactions').update({type}).match({signal_id:signalId,user_id:user.id});}else{await supabase.from('reactions').insert({signal_id:signalId,user_id:user.id,type});}// yenile\nconst{data:reacts}=await supabase.from('reactions').select('signal_id, user_id, type');const rMap={};signals.forEach(s=>rMap[s.id]={likeCount:0,dislikeCount:0,myType:null});reacts.forEach(r=>{const e=rMap[r.signal_id];if(!e)return;if(r.type==='like')e.likeCount++;else e.dislikeCount++;if(r.user_id===user.id)e.myType=r.type;});setReactionsMap(rMap);};// 4) Yorum sayfasına git\nconst goComments=signalId=>{if(myProfileType!=='investor')return;navigate(`/comments/${signalId}`);};// 5) Trader profiline git\nconst goProfile=userId=>{navigate(`/profile/${userId}`);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"home-page loader\",children:\"Y\\xFCkleniyor\\u2026\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"home-page\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"signals-list\",children:signals.map(item=>{const date=new Date(item.timestamp).toLocaleDateString();const time=new Date(item.timestamp).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});const traderName=profilesMap[item.userId]||'Anonim';const react=reactionsMap[item.id]||{likeCount:0,dislikeCount:0,myType:null};const commCount=commentsCountMap[item.id]||0;return/*#__PURE__*/_jsxs(\"li\",{className:\"signal-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"user-row\",children:[/*#__PURE__*/_jsx(FaUserCircle,{size:18,color:\"#1a73e8\"}),/*#__PURE__*/_jsx(\"button\",{className:\"user-name\",onClick:()=>goProfile(item.userId),children:traderName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-row\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"symbol\",children:item.symbol}),/*#__PURE__*/_jsxs(\"small\",{className:\"timestamp\",children:[date,\" \",time]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-row\",children:[/*#__PURE__*/_jsx(\"span\",{className:`badge ${item.direction==='LONG'?'long':'short'}`,children:item.direction}),/*#__PURE__*/_jsx(\"span\",{className:\"badge timeframe\",children:item.timeFrame.toUpperCase()})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Entry Price\"}),/*#__PURE__*/_jsx(\"span\",{children:item.entryPrice})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Leverage\"}),/*#__PURE__*/_jsxs(\"span\",{children:[item.recommendedLeverage,\"x\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),item.targets.map((t,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Target \",i+1]}),/*#__PURE__*/_jsx(\"span\",{className:\"target\",children:t})]},i)),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Stop Loss\"}),/*#__PURE__*/_jsx(\"span\",{className:\"stop\",children:item.stopLoss})]}),/*#__PURE__*/_jsx(\"div\",{className:\"divider\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions-row\",children:[/*#__PURE__*/_jsxs(\"button\",{className:`action-button like ${react.myType==='like'?'active':''}`,onClick:()=>handleReaction(item.id,'like'),disabled:myProfileType!=='investor',children:[/*#__PURE__*/_jsx(FaThumbsUp,{}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"action-count\",children:react.likeCount})]}),/*#__PURE__*/_jsxs(\"button\",{className:`action-button dislike ${react.myType==='dislike'?'active':''}`,onClick:()=>handleReaction(item.id,'dislike'),disabled:myProfileType!=='investor',children:[/*#__PURE__*/_jsx(FaThumbsDown,{}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"action-count\",children:react.dislikeCount})]}),/*#__PURE__*/_jsxs(\"button\",{className:\"action-button\",onClick:()=>goComments(item.id),disabled:myProfileType!=='investor',children:[/*#__PURE__*/_jsx(FaComment,{}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"action-count\",children:commCount})]})]})]},item.id);})})});}","map":{"version":3,"names":["React","useContext","useEffect","useState","useNavigate","SignalsContext","supabase","FaThumbsUp","FaThumbsDown","FaComment","FaUserCircle","jsx","_jsx","jsxs","_jsxs","HomePage","navigate","signals","user","setUser","myProfileType","setMyProfileType","profilesMap","setProfilesMap","reactionsMap","setReactionsMap","commentsCountMap","setCommentsCountMap","loading","setLoading","data","session","auth","getSession","usr","prof","from","select","eq","id","maybeSingle","user_type","length","profs","pMap","forEach","p","user_id","full_name","reacts","rMap","s","likeCount","dislikeCount","myType","r","e","signal_id","type","comms","cMap","c","undefined","handleReaction","signalId","_reactionsMap$signalI","prev","delete","match","update","insert","goComments","goProfile","userId","className","children","map","item","date","Date","timestamp","toLocaleDateString","time","toLocaleTimeString","hour","minute","traderName","react","commCount","size","color","onClick","symbol","direction","timeFrame","toUpperCase","entryPrice","recommendedLeverage","targets","t","i","stopLoss","disabled"],"sources":["C:/Users/Yusuf Uygur/Documents/GitHub/KriptoMentorSon/kriptoMentorWeb/frontend/src/pages/HomePage.js"],"sourcesContent":["// src/pages/HomePage.js\r\n\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { useNavigate }            from 'react-router-dom';\r\nimport { SignalsContext }         from '../context/SignalsContext';\r\nimport { supabase }               from '../lib/supabaseClient';\r\nimport './HomePage.css';\r\nimport { FaThumbsUp, FaThumbsDown, FaComment, FaUserCircle } from 'react-icons/fa';\r\n\r\nexport default function HomePage() {\r\n  const navigate    = useNavigate();\r\n  const { signals } = useContext(SignalsContext);\r\n\r\n  const [user, setUser]                     = useState(null);\r\n  const [myProfileType, setMyProfileType]   = useState(null);\r\n  const [profilesMap, setProfilesMap]       = useState({});\r\n  const [reactionsMap, setReactionsMap]     = useState({});\r\n  const [commentsCountMap, setCommentsCountMap] = useState({});\r\n  const [loading, setLoading]               = useState(true);\r\n\r\n  // 1) Oturum ve kendi profil tipini çek\r\n  useEffect(() => {\r\n    (async () => {\r\n      const { data:{ session } } = await supabase.auth.getSession();\r\n      const usr = session?.user;\r\n      if (!usr) return;\r\n      setUser(usr);\r\n\r\n      // kendi profil tipini al\r\n      const { data: prof } = await supabase\r\n        .from('profiles')\r\n        .select('user_type')\r\n        .eq('user_id', usr.id)\r\n        .maybeSingle();\r\n      setMyProfileType(prof?.user_type || null);\r\n    })();\r\n  }, []);\r\n\r\n  // 2) Profiller, reaksiyonlar ve yorum sayıları\r\n  useEffect(() => {\r\n    if (!user || !signals.length) return;\r\n\r\n    (async () => {\r\n      setLoading(true);\r\n\r\n      // profiller\r\n      const { data: profs } = await supabase\r\n        .from('profiles')\r\n        .select('user_id, full_name');\r\n      const pMap = {};\r\n      profs.forEach(p => pMap[p.user_id] = p.full_name || 'Anonim');\r\n      setProfilesMap(pMap);\r\n\r\n      // reaksiyonlar\r\n      const { data: reacts } = await supabase\r\n        .from('reactions')\r\n        .select('signal_id, user_id, type');\r\n      const rMap = {};\r\n      signals.forEach(s => rMap[s.id] = { likeCount:0, dislikeCount:0, myType:null });\r\n      reacts.forEach(r => {\r\n        const e = rMap[r.signal_id];\r\n        if (!e) return;\r\n        if (r.type === 'like')  e.likeCount++;\r\n        else                     e.dislikeCount++;\r\n        if (r.user_id === user.id) e.myType = r.type;\r\n      });\r\n      setReactionsMap(rMap);\r\n\r\n      // yorum sayıları\r\n      const { data: comms } = await supabase\r\n        .from('comments')\r\n        .select('signal_id');\r\n      const cMap = {};\r\n      signals.forEach(s => cMap[s.id] = 0);\r\n      comms.forEach(c => {\r\n        if (cMap[c.signal_id] !== undefined) cMap[c.signal_id]++;\r\n      });\r\n      setCommentsCountMap(cMap);\r\n\r\n      setLoading(false);\r\n    })();\r\n  }, [user, signals]);\r\n\r\n  // 3) Tepki handler (sadece investor ise)\r\n  const handleReaction = async (signalId, type) => {\r\n    if (myProfileType !== 'investor') return;\r\n    const prev = reactionsMap[signalId]?.myType;\r\n    if (prev === type) {\r\n      await supabase\r\n        .from('reactions')\r\n        .delete()\r\n        .match({ signal_id: signalId, user_id: user.id });\r\n    } else if (prev) {\r\n      await supabase\r\n        .from('reactions')\r\n        .update({ type })\r\n        .match({ signal_id: signalId, user_id: user.id });\r\n    } else {\r\n      await supabase\r\n        .from('reactions')\r\n        .insert({ signal_id: signalId, user_id: user.id, type });\r\n    }\r\n    // yenile\r\n    const { data: reacts } = await supabase\r\n      .from('reactions')\r\n      .select('signal_id, user_id, type');\r\n    const rMap = {};\r\n    signals.forEach(s => rMap[s.id] = { likeCount:0, dislikeCount:0, myType:null });\r\n    reacts.forEach(r => {\r\n      const e = rMap[r.signal_id];\r\n      if (!e) return;\r\n      if (r.type === 'like')  e.likeCount++;\r\n      else                     e.dislikeCount++;\r\n      if (r.user_id === user.id) e.myType = r.type;\r\n    });\r\n    setReactionsMap(rMap);\r\n  };\r\n\r\n  // 4) Yorum sayfasına git\r\n  const goComments = (signalId) => {\r\n    if (myProfileType !== 'investor') return;\r\n    navigate(`/comments/${signalId}`);\r\n  };\r\n\r\n  // 5) Trader profiline git\r\n  const goProfile = (userId) => {\r\n    navigate(`/profile/${userId}`);\r\n  };\r\n\r\n  if (loading) {\r\n    return <div className=\"home-page loader\">Yükleniyor…</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <ul className=\"signals-list\">\r\n        {signals.map(item => {\r\n          const date = new Date(item.timestamp).toLocaleDateString();\r\n          const time = new Date(item.timestamp).toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'});\r\n          const traderName = profilesMap[item.userId] || 'Anonim';\r\n          const react = reactionsMap[item.id] || { likeCount:0, dislikeCount:0, myType:null };\r\n          const commCount = commentsCountMap[item.id] || 0;\r\n\r\n          return (\r\n            <li key={item.id} className=\"signal-card\">\r\n              <div className=\"user-row\">\r\n                <FaUserCircle size={18} color=\"#1a73e8\" />\r\n                <button\r\n                  className=\"user-name\"\r\n                  onClick={() => goProfile(item.userId)}\r\n                >\r\n                  {traderName}\r\n                </button>\r\n              </div>\r\n\r\n              <div className=\"header-row\">\r\n                <h3 className=\"symbol\">{item.symbol}</h3>\r\n                <small className=\"timestamp\">{date} {time}</small>\r\n              </div>\r\n\r\n              <div className=\"meta-row\">\r\n                <span className={`badge ${item.direction==='LONG'?'long':'short'}`}>\r\n                  {item.direction}\r\n                </span>\r\n                <span className=\"badge timeframe\">{item.timeFrame.toUpperCase()}</span>\r\n              </div>\r\n\r\n              <div className=\"divider\" />\r\n\r\n              <div className=\"row\"><span>Entry Price</span><span>{item.entryPrice}</span></div>\r\n              <div className=\"row\"><span>Leverage</span><span>{item.recommendedLeverage}x</span></div>\r\n\r\n              <div className=\"divider\" />\r\n\r\n              {item.targets.map((t,i) => (\r\n                <div key={i} className=\"row\">\r\n                  <span>Target {i+1}</span>\r\n                  <span className=\"target\">{t}</span>\r\n                </div>\r\n              ))}\r\n\r\n              <div className=\"row\"><span>Stop Loss</span><span className=\"stop\">{item.stopLoss}</span></div>\r\n              \r\n              <div className=\"divider\" />\r\n\r\n              <div className=\"actions-row\">\r\n                <button\r\n                  className={`action-button like ${react.myType==='like'?'active':''}`}\r\n                  onClick={()=>handleReaction(item.id,'like')}\r\n                  disabled={myProfileType!=='investor'}\r\n                >\r\n                  <FaThumbsUp /> <span className=\"action-count\">{react.likeCount}</span>\r\n                </button>\r\n                <button\r\n                  className={`action-button dislike ${react.myType==='dislike'?'active':''}`}\r\n                  onClick={()=>handleReaction(item.id,'dislike')}\r\n                  disabled={myProfileType!=='investor'}\r\n                >\r\n                  <FaThumbsDown /> <span className=\"action-count\">{react.dislikeCount}</span>\r\n                </button>\r\n                <button\r\n                  className=\"action-button\"\r\n                  onClick={()=>goComments(item.id)}\r\n                  disabled={myProfileType!=='investor'}\r\n                >\r\n                  <FaComment /> <span className=\"action-count\">{commCount}</span>\r\n                </button>\r\n              </div>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}